<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    <!-- Primary Meta Tags -->
    <title>Snowpack - The faster frontend build tool</title>
    <meta name="title" content="Snowpack - The faster frontend build tool">
    <meta name="description" content="Snowpack is the fast, bundle-free build tool for all kinds of frontend projects.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.snowpack.dev">
    <meta property="og:title" content="Snowpack - The faster frontend build tool">
    <meta property="og:description" content="Snowpack is the fast, bundle-free build tool for all kinds of frontend projects.">
    <meta property="og:image" content="https://www.snowpack.dev/img/social-4.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.snowpack.dev">
    <meta property="twitter:title" content="Snowpack - The faster frontend build tool">
    <meta property="twitter:description" content="Snowpack is the fast, bundle-free build tool for all kinds of frontend projects.">
    <meta property="twitter:image" content="https://www.snowpack.dev/img/social-4.jpg">

    <!-- Global Stylesheets -->
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/app.min.css" />
  </head>
  <body>

    <section class="container">
      <div class="grid-banner" style="display: none">
        <div class="notification">
            Snowpack 2.7 is here!
            <a href="/posts/2020-07-30-snowpack-2-7-release/">
              Read the launch post →
            </a>
        </div>
      </div>
    </section>

    <section class="container grid-nav-container">
      <nav class="grid-nav">
        <svg id="toc-drawer-button" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path>
        </svg>
        <a class="header-logo" href="/">
          <svg id="toc-logo" height="38px" viewBox="0 0 640 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g id="Page-1" stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
              <g id="mountain-solid" transform="translate(-1.000000, 0.000000)"fill-rule="nonzero">
                <path d="M635.92,462.7 L347.92,14.7 C342.03,5.54 331.89,0 321,0 C310.11,0 299.97,5.54 294.08,14.7 L6.08,462.7 C-0.250773249,472.547007 -0.699487627,485.064987 4.91,495.34 C10.522069,505.612419 21.2945349,512 33,512 L609,512 C620.71,512 631.48,505.61 637.09,495.33 C642.699457,485.058495 642.250708,472.543372 635.92,462.7 Z M321,91.18 L406.39,224 L321,224 L257,288 L218.94,249.94 L321,91.18 Z" id="Shape"></path>
              </g>
            </g>
          </svg>
          Snowpack
          </a>
        <form class="search-form hidden-mobile" data-controller="search">
          <a href="/#api-reference" class="grid-nav-link">API Reference</a>
          <a href="/#recipes" class="grid-nav-link">Recipes</a>
          <a href="/guides/plugins" class="grid-nav-link plugin-nav-link">Plugin Guide</a>
          <!-- <input type="text" name="search" placeholder="Search documentation..." class="search-form-input"></div> -->
        </form>
        <a href="https://github.com/snowpackjs/snowpack/discussions/1183" target="_blank" class="grid-nav-link">
              v2.14.3
            </a>
        <a href="https://github.com/snowpackjs/snowpack" target="_blank" class="icon-link hidden-mobile">
          <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
          </svg>
        </a>
        <a href="https://twitter.com/pikapkg" target="_blank" class="icon-link hidden-mobile">
          <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
          </svg>
        </a>
        <a href="https://discord.gg/rS8SnRk" target="_blank" class="icon-link hidden-mobile">
          <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" class="svg-inline--fa fa-discord fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 210 240"><path fill="currentColor" d="M84.79 90.45c-6.45 0-11.55 5.66-11.55 12.57s5.21 12.57 11.55 12.57c6.45 0 11.55-5.66 11.55-12.57.11-6.91-5.09-12.57-11.55-12.57zm41.32 0c-6.45 0-11.55 5.66-11.55 12.57s5.21 12.57 11.55 12.57c6.45 0 11.55-5.66 11.55-12.57s-5.09-12.57-11.55-12.57z"/><path fill="currentColor" d="M185.4 0H24.6C11.04 0 0 11.04 0 24.72v162.24c0 13.68 11.04 24.72 24.6 24.72h136.08l-6.36-22.2 15.36 14.28 14.52 13.44L210 240V24.72C210 11.04 198.96 0 185.4 0zm-46.32 156.72s-4.32-5.16-7.92-9.72c15.72-4.44 21.72-14.28 21.72-14.28-4.92 3.24-9.6 5.52-13.8 7.08-6 2.52-11.76 4.2-17.4 5.16-11.52 2.16-22.08 1.56-31.08-.12-6.84-1.32-12.72-3.24-17.64-5.16-2.76-1.08-5.76-2.4-8.76-4.08-.36-.24-.72-.36-1.08-.6-.24-.12-.36-.24-.48-.36-2.16-1.2-3.36-2.04-3.36-2.04s5.76 9.6 21 14.16c-3.6 4.56-8.04 9.96-8.04 9.96-26.52-.84-36.6-18.24-36.6-18.24 0-38.64 17.28-69.96 17.28-69.96 17.28-12.96 33.72-12.6 33.72-12.6l1.2 1.44c-21.6 6.24-31.56 15.72-31.56 15.72s2.64-1.44 7.08-3.48c12.84-5.64 23.04-7.2 27.24-7.56.72-.12 1.32-.24 2.04-.24 7.32-.96 15.6-1.2 24.24-.24 11.4 1.32 23.64 4.68 36.12 11.52 0 0-9.48-9-29.88-15.24l1.68-1.92s16.44-.36 33.72 12.6c0 0 17.28 31.32 17.28 69.96 0 0-10.2 17.4-36.72 18.24z"/></svg>
        </a>
      </nav>
    </section>

    <section class="container" style="display: flex;">
      
<aside class="grid-toc hidden-mobile">
  <nav class="toc">
                <ol>
                    
                    <li><a href="#overview">Overview</a>
            
                <ol>
                    
                    <li><a href="#what-is-snowpack%3F">What is Snowpack?</a>
            		</li>

                    <li><a href="#key-features">Key Features</a>
            		</li>

                    <li><a href="#who%E2%80%99s-using-snowpack%3F">Who’s Using Snowpack?</a>
            		</li>

                    <li><a href="#how-snowpack-works">How Snowpack Works</a>
            		</li>

                    <li><a href="#library-support">Library Support</a>
            		</li>

                    <li><a href="#tooling-support">Tooling Support</a>
            		</li>

                    <li><a href="#browser-support">Browser Support</a>
            		</li>

                    <li><a href="#community">Community</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#get-started">Get Started</a>
            
                <ol>
                    
                    <li><a href="#install-snowpack">Install Snowpack</a>
            		</li>

                    <li><a href="#quick-start">Quick Start</a>
            		</li>

                    <li><a href="#create-snowpack-app-(csa)">Create Snowpack App (CSA)</a>
            		</li>

                    <li><a href="#official-app-templates">Official App Templates</a>
            		</li>

                    <li><a href="#migrating-an-existing-app">Migrating an Existing App</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#main-concepts">Main Concepts</a>
            
                <ol>
                    
                    <li><a href="#unbundled-development">Unbundled Development</a>
            		</li>

                    <li><a href="#using-npm-dependencies">Using NPM Dependencies</a>
            		</li>

                    <li><a href="#snowpack%E2%80%99s-dev-server">Snowpack’s Dev Server</a>
            		</li>

                    <li><a href="#snowpack%E2%80%99s-build-pipeline">Snowpack’s Build Pipeline</a>
            		</li>

                    <li><a href="#bundle-for-production">Bundle for Production</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#javascript">JavaScript</a>
            
                <ol>
                    
                    <li><a href="#es-modules-(esm)">ES Modules (ESM)</a>
            		</li>

                    <li><a href="#import-npm-packages">Import NPM Packages</a>
            		</li>

                    <li><a href="#import-json">Import JSON</a>
            		</li>

                    <li><a href="#import-css">Import CSS</a>
            		</li>

                    <li><a href="#import-css-modules">Import CSS Modules</a>
            		</li>

                    <li><a href="#import-images-%26-other-assets">Import Images & Other Assets</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#features">Features</a>
            
                <ol>
                    
                    <li><a href="#import-aliases">Import Aliases</a>
            		</li>

                    <li><a href="#environment-variables">Environment Variables</a>
            		</li>

                    <li><a href="#hot-module-replacement">Hot Module Replacement</a>
            		</li>

                    <li><a href="#dev-request-proxy">Dev Request Proxy</a>
            		</li>

                    <li><a href="#https%2Fhttp2">HTTPS/HTTP2</a>
            		</li>

                    <li><a href="#legacy-browser-support">Legacy Browser Support</a>
            		</li>

                    <li><a href="#node.js-polyfills">Node.js Polyfills</a>
            		</li>

                    <li><a href="#css-imports-(%40import)">CSS Imports (@import)</a>
            		</li>

                    <li><a href="#server-side-rendering-(ssr)">Server Side Rendering (SSR)</a>
            		</li>

                    <li><a href="#optimized-builds">Optimized Builds</a>
            		</li>

                    <li><a href="#testing">Testing</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#plugins">Plugins</a>
            
                <ol>
                    
                    <li><a href="#connect-a-plugin">Connect a Plugin</a>
            		</li>

                    <li><a href="#connect-any-script%2Fcli">Connect any Script/CLI</a>
            		</li>

                    <li><a href="#official-plugins">Official Plugins</a>
            		</li>

                    <li><a href="#community-plugins">Community Plugins</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#recipes">Recipes</a>
            
                <ol>
                    
                    <li><a href="#supported-libraries">Supported Libraries</a>
            		</li>

                    <li><a href="#jsx">JSX</a>
            		</li>

                    <li><a href="#typescript">TypeScript</a>
            		</li>

                    <li><a href="#babel">Babel</a>
            		</li>

                    <li><a href="#preact">Preact</a>
            		</li>

                    <li><a href="#vue">Vue</a>
            		</li>

                    <li><a href="#svelte">Svelte</a>
            		</li>

                    <li><a href="#postcss">PostCSS</a>
            		</li>

                    <li><a href="#tailwind-css">Tailwind CSS</a>
            		</li>

                    <li><a href="#sass">Sass</a>
            		</li>

                    <li><a href="#eslint">ESLint</a>
            		</li>

                    <li><a href="#webpack">Webpack</a>
            		</li>

                    <li><a href="#workbox">Workbox</a>
            		</li>

                    <li><a href="#%40web%2Ftest-runner">@web/test-runner</a>
            		</li>

                    <li><a href="#jest">Jest</a>
            		</li>

                    <li><a href="#server-side-rendering-(ssr)-1">Server Side Rendering (SSR)</a>
            		</li>

                    <li><a href="#leaving-snowpack">Leaving Snowpack</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#troubleshooting">Troubleshooting</a>
            
                <ol>
                    
                    <li><a href="#no-such-file-or-directory">No such file or directory</a>
            		</li>

                    <li><a href="#package-exists-but-package.json-%E2%80%9Cexports%E2%80%9D-does-not-include-entry">Package exists but package.json “exports” does not include entry</a>
            		</li>

                    <li><a href="#uncaught-syntaxerror%3A-the-requested-module-%E2%80%98%2Fweb_modules%2Fxxxxxx.js%E2%80%99-does-not-provide-an-export-named-%E2%80%98yyyyyy%E2%80%99">Uncaught SyntaxError: The requested module ‘/web_modules/XXXXXX.js’ does not provide an export named ‘YYYYYY’</a>
            		</li>

                    <li><a href="#installing-non-js-packages">Installing Non-JS Packages</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#api-reference">API Reference</a>
            
                <ol>
                    
                    <li><a href="#config-files">Config Files</a>
            		</li>

                    <li><a href="#cli-flags">CLI Flags</a>
            		</li>

                    <li><a href="#configuration">Configuration</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#assets">Assets</a>
            		</li>
                </ol>
            </nav>
</aside>

<article id="grid-body" class="grid-body">

  <a class="img-banner"
  href="https://osawards.com/javascript/2020"
  target="_blank"
  rel="noopener noreferrer">
    <img src="/img/JSAwardWinner.png" alt="2020 JavaScript Open Source Award Winner banner"/>
  </a>

  <div class="grid-body-header">
    <svg height="64px" style="padding-left: 8px;" viewbox="0 0 640 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g id="Page-1" stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd">
        <g id="mountain-solid" transform="translate(-1.000000, 0.000000)" fill-rule="nonzero">
          <path d="M635.92,462.7 L347.92,14.7 C342.03,5.54 331.89,0 321,0 C310.11,0 299.97,5.54 294.08,14.7 L6.08,462.7 C-0.250773249,472.547007 -0.699487627,485.064987 4.91,495.34 C10.522069,505.612419 21.2945349,512 33,512 L609,512 C620.71,512 631.48,505.61 637.09,495.33 C642.699457,485.058495 642.250708,472.543372 635.92,462.7 Z M321,91.18 L406.39,224 L321,224 L257,288 L218.94,249.94 L321,91.18 Z" id="Shape"></path>
        </g>
      </g>
    </svg>
    <h1 class="header-snowpack">Snowpack</h1>
    <p class="header-snowpack-subtitle">
      The faster frontend build tool.
    </p>

    <div style="margin: 1.5rem auto; max-width: 424px;">
      <a href="#get-started" class="button">Get Started</a>
      <!-- Place this tag where you want the button to render. -->
      <div class="hidden-mobile" style="text-align: center;">
        <a class="github-button" href="https://github.com/snowpackjs/snowpack" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star snowpackjs/snowpack on GitHub">Star</a>
      </div>
    </div>
  </div>

  <div class="markdown-body">
    <h2 id="overview">Overview</h2>
<h3 id="what-is-snowpack%3F">What is Snowpack?</h3>
<p>Snowpack is a modern frontend build tool for faster web development. It replaces heavier, more complex bundlers like webpack or Parcel in your development workflow.</p>
<p>Snowpack leverages JavaScript’s native module system (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">known as ESM</a>) to create a first-of-its-kind build system that never builds the same file twice. Snowpack pushes changes instantly to the browser, saving you hours of development time traditionally spent waiting around for your bundler.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li>Develop faster, with a dev server that starts up in <strong>50ms or less.</strong></li>
<li>See changes reflected <a href="/#hot-module-replacement">instantly in the browser.</a></li>
<li>Integrate your favorite bundler for a <a href="/#bundle-for-production">production-optimized build.</a></li>
<li>Enjoy out-of-the-box support for <a href="/#features">TypeScript, JSX, CSS Modules and more.</a></li>
<li>Connect your favorite tools with <a href="/#plugins">third-party plugins.</a></li>
</ul>
<h3 id="who%E2%80%99s-using-snowpack%3F">Who’s Using Snowpack?</h3>
<div class="company-logos">
  <a href="https://github.com/internetarchive/dweb-archive" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Internet_Archive_logo_and_wordmark.svg/1200px-Internet_Archive_logo_and_wordmark.svg.png" alt="The Internet Archive" />
  </a>
  <a href="https://www.1688.com" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://s.cafebazaar.ir/1/icons/com.alibaba.intl.android.apps.poseidon_512x512.png" alt="Alibaba 1688" />
  </a>
  <a href="https://twitter.com/kennethrohde/status/1227273971831332865" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Intel_logo_%282006%29.svg" alt="Intel" />
  </a>
  <a href="https://www.circlehd.com/" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://www.circlehd.com/img/logo-sm.svg" alt="CircleHD" />
  </a>
  <a href="https://github.com/jakedeichert/svelvet" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/spool-of-thread_1f9f5.png" alt="Svelvet" />
  </a>
  <a href="https://www.pika.dev" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://www.pika.dev/static/img/logo5.svg" alt="Pika.dev" />
  </a>
  <a href="https://www.toast.dev" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://www.toast.dev/toast-icon-300.png" alt="Toast" />
  </a>
  <a href="https://maskable.app/" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://maskable.app/favicon/favicon_196.png" alt="Maskable.app" />
  </a>
  <a href="https://andreasbm.github.io/web-skills" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://andreasbm.github.io/web-skills/www/icon.svg" alt="Web Skills" />
  </a>
  <a href="https://swissdevjobs.ch/jobs/JavaScript/All" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://static.swissdevjobs.ch/pictures/swissdev-javascript-jobs.svg" alt="SwissDev JavaScript Jobs" />
  </a>
  <a href="https://tt.edu.au" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://tt.edu.au/images/logo.png" alt="Tradie Training" />
  </a>
  <a href="https://github.com/wemake-services" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://avatars0.githubusercontent.com/u/19639014?s=200&v=4" alt="wemake.services" />
  </a>
  <a href="https://airhacks.com" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://airhacks.com/logo.svg" alt="airhacks.com" />
  </a>
  <a href="https://www.tongdun.cn/" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://www.tongdun.cn/static/favicon.ico" alt="tongdun" />
  </a>
  <a href="https://github.com/bs-community" target="_blank" rel="noopener noreferrer nofollow">
    <img class="company-logo" src="https://blessing.netlify.app/logo.png" alt="Blessing Skin" />
  </a>
<a href="https://github.com/snowpackjs/snowpack/edit/master/docs/docs/00.md" target="_blank" title="Add Your Project/Company!" class="add-company-button" >
  <svg style="height: 22px; margin-right: 8px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="company-logo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
  Add your logo
</a>
</div>
<h3 id="how-snowpack-works">How Snowpack Works</h3>
<p><strong>Snowpack is a modern, lightweight build tool for faster web development.</strong> Traditional JavaScript build tools like webpack and Parcel need to rebuild &amp; rebundle entire chunks of your application every time you save a single file. This rebundling step introduces lag between hitting save on your changes and seeing them reflected in the browser.</p>
<p>Snowpack serves your application <strong>unbundled during development.</strong> Every file only needs to be built once and then is cached forever. When a file changes, Snowpack rebuilds that single file. There’s no time wasted re-bundling every change, just instant updates in the browser (made even faster via <a href="#hot-module-replacement">Hot-Module Replacement (HMR)</a>). You can read more about this approach in our <a href="/posts/2020-05-26-snowpack-2-0-release/">Snowpack 2.0 Release Post.</a></p>
<p>Snowpack’s <strong>unbundled development</strong> still supports the same <strong>bundled builds</strong> that you’re used to for production. When you go to build your application for production, you can plug in your favorite bundler via an official Snowpack plugin for Webpack or Rollup (coming soon). With Snowpack already handling your build, there’s no complex bundler config required.</p>
<p><strong>Snowpack gets you the best of both worlds:</strong> fast, unbundled development with optimized performance in your bundled production builds.</p>
<h3 id="library-support">Library Support</h3>
<div class="grid-list">
<ul>
<li>React</li>
<li>Preact</li>
<li>Svelte</li>
<li>Vue</li>
<li>lit-html</li>
<li>lit-element</li>
<li>Styled Components</li>
<li>Tailwind CSS</li>
<li><a href="/#recipes">and more!</a></li>
</ul>
<!-- Missing something? Feel free to add your own! -->
</div>
<h3 id="tooling-support">Tooling Support</h3>
<div class="grid-list">
<ul>
<li>Babel</li>
<li>TypeScript</li>
<li>PostCSS</li>
<li>Sass</li>
<li>esbuild</li>
<li>11ty</li>
<li><a href="/#recipes">and more!</a></li>
</ul>
<!-- Missing something? Feel free to add your own! -->
</div>
<h3 id="browser-support">Browser Support</h3>
<p><strong>Snowpack builds your site for both modern and legacy browsers. Even IE11 is supported.</strong> You can control and customize this behavior with the <a href="https://css-tricks.com/browserlist-good-idea/">“browserlist” package.json property</a>.</p>
<p>The only requirement is that <em>during development</em> you use a <a href="http://caniuse.com/#feat=es6-module">modern browser</a>. Any recent release of Firefox, Chrome, or Edge will do. This is required to support the modern, bundle-free ESM imports that load your application in the browser.</p>
<h3 id="community">Community</h3>
<p><a href="https://discord.gg/zxSwN8Z"><img alt="Join us on Discord!" src="https://img.shields.io/discord/712696926406967308.svg?label=&logo=discord&logoColor=ffffff&color=7389D8&labelColor=6A7EC2" style="height: 24px; border: none;"/></a></p>
<p><a href="https://discord.gg/rS8SnRk">Join the Pika Discord</a> for discussion, questions about Snowpack or related Pika projects, or to show off what you’re working on!</p>
<h2 id="get-started">Get Started</h2>
<h3 id="install-snowpack">Install Snowpack</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># using npm</span><br><span class="token function">npm</span> <span class="token function">install</span> --save-dev snowpack<br><br><span class="token comment"># using yarn</span><br><span class="token function">yarn</span> <span class="token function">add</span> --dev snowpack</code></pre>
<p>Snowpack can also be installed globally via <code>npm install -g snowpack</code>. But, we recommend installing locally in every project via <code>--save-dev</code>/<code>--dev</code>. You can run the Snowpack CLI locally via package.json “scripts”, npm’s <code>npx snowpack</code>, or via <code>yarn snowpack</code>.</p>
<h3 id="quick-start">Quick Start</h3>
<p>Here’s a short list of what you can do with Snowpack:</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Start your dev server, load your site locally</span><br>snowpack dev<br><br><span class="token comment"># Build your site for production</span><br>snowpack build<br><br><span class="token comment"># Build your site, but watch the file system and rebuild when files change.</span><br><span class="token comment"># Great for local development with your own dev server (ex: Rails)</span><br>snowpack build --watch<br><br><span class="token comment"># See more helpful info</span><br>snowpack --help</code></pre>
<h3 id="create-snowpack-app-(csa)">Create Snowpack App (CSA)</h3>
<p>The easiest way to get started with Snowpack is via <a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app">Create Snowpack App (CSA)</a>. CSA automatically initializes a starter application for you with a pre-configured, Snowpack-powered dev environment.</p>
<p>If you’ve ever used Create React App, this is a lot like that!</p>
<pre class="language-bash"><code class="language-bash">npx create-snowpack-app new-dir --template <span class="token punctuation">[</span>SELECT FROM BELOW<span class="token punctuation">]</span> <span class="token punctuation">[</span>--use-yarn<span class="token punctuation">]</span></code></pre>
<h3 id="official-app-templates">Official App Templates</h3>
<ul>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-blank">@snowpack/app-template-blank</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-blank-typescript">@snowpack/app-template-blank-typescript</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-minimal">@snowpack/app-template-minimal</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-react">@snowpack/app-template-react</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-react-typescript">@snowpack/app-template-react-typescript</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-preact">@snowpack/app-template-preact</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-svelte">@snowpack/app-template-svelte</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-vue">@snowpack/app-template-vue</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-lit-element">@snowpack/app-template-lit-element</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-lit-element-typescript">@snowpack/app-template-lit-element-typescript</a></p>
</li>
<li>
<p><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/app-template-11ty">@snowpack/app-template-11ty</a></p>
</li>
<li>
<p><strong><a href="https://github.com/snowpackjs/snowpack/tree/master/create-snowpack-app/cli#featured-community-templates">See all community templates</a></strong></p>
</li>
</ul>
<!--
### Tutorial: Starting from Scratch

While CSA is a great all-in-one starter dev environment, you may prefer to learn exactly how it works under the hood. In that case, we have this tutorial that walks you through how you can build your own Create React App -like dev environment with Snowpack and only a few lines of configuration.

**Coming Soon!**
-->
<h3 id="migrating-an-existing-app">Migrating an Existing App</h3>
<p>Migrating an existing app to Snowpack is meant to be painless, since Snowpack supports most features and build tools that you’re already using today (Babel, PostCSS, etc). If this is your first time using Snowpack you should start with a Create Snowpack App (CSA) template, copy over your “src” &amp; “public” files from your old app, and then run <code>snowpack dev</code>, troubleshooting any remaining issues.</p>
<p>CSA is a good starting point for an existing application because it has a few common tools (like Babel) built in by default to replicate the full feature set of a traditional bundled app. CSA is also meant to be a drop-in replacement for Create React App, so any existing Create React App project should run via CSA with zero changes needed.</p>
<p>If you run into issues, search the rest of our docs site for information about importing CSS <a href="#javascript">from JS</a> and <a href="#import-css">from CSS</a>, <a href="#import-images-%26-other-assets">asset references</a>, and more.</p>
<h2 id="main-concepts">Main Concepts</h2>
<h3 id="unbundled-development">Unbundled Development</h3>
<p><img src="/img/snowpack-unbundled-example-3.png" alt="webpack vs. snowpack diagram"></p>
<p><strong>Unbundled development</strong> is the idea of shipping individual files to the browser during development. Files can still be built with your favorite tools (like Babel, TypeScript, Sass) and then loaded individually in the browser with dependencies thanks to ESM <code>import</code> and <code>export</code> syntax. Any time you change a file, Snowpack only ever needs to rebuild that single file.</p>
<p>The alternative is <strong>bundled development.</strong> Almost every popular JavaScript build tool today focuses on bundled development. Running your entire application through a bundler introduces additional work and complexity to your dev workflow that is unnecessary now that ESM is widely supported. Every change – on every save – must be rebundled with the rest of your application before your changes can be reflected in your browser.</p>
<p>Unbundled development has several advantages over the traditional bundled development approach:</p>
<ul>
<li>Single-file builds are fast.</li>
<li>Single-file builds are deterministic.</li>
<li>Single-file builds are easier to debug.</li>
<li>Project size doesn’t affect dev speed.</li>
<li>Individual files cache better.</li>
</ul>
<p>That last point is key: <strong>Every file is built individually and cached indefinitely.</strong> Your dev environment will never build a file more than once and your browser will never download a file twice (until it changes). This is the real power of unbundled development.</p>
<h3 id="using-npm-dependencies">Using NPM Dependencies</h3>
<p>NPM packages are mainly published using a module syntax (Common.js, or CJS) that can’t run on the web without some build processing. Even if you write your application using browser-native ESM <code>import</code> and <code>export</code> statements that would all run directly in the browser, trying to import any one npm package will force you back into bundled development.</p>
<p><strong>Snowpack takes a different approach:</strong> Instead of bundling your entire application for this one requirement, Snowpack processes your dependencies separately. Here’s how it works:</p>
<pre><code>node_modules/react/**/*     -&gt; http://localhost:3000/web_modules/react.js
node_modules/react-dom/**/* -&gt; http://localhost:3000/web_modules/react-dom.js
</code></pre>
<ol>
<li>Snowpack scans your website/application for all used npm packages.</li>
<li>Snowpack reads these installed dependencies from your <code>node_modules</code> directory.</li>
<li>Snowpack bundles all of your dependencies separately into single JavaScript files. For example: <code>react</code> and <code>react-dom</code> are converted to <code>react.js</code> and <code>react-dom.js</code>, respectively.</li>
<li>Each resulting file can be run directly in the browser, and imported via ESM <code>import</code> statements.</li>
<li>Because your dependencies rarely change, Snowpack rarely needs to rebuild them.</li>
</ol>
<p>After Snowpack builds your dependencies, any package can be imported and run directly in the browser with zero additional bundling or tooling required. This ability to import npm packages natively in the browser (without a bundler) is the foundation that all unbundled development and the rest of Snowpack is built on top of.</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- This runs directly in the browser with `snowpack dev` --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>    <span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>React<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code></pre>
<h3 id="snowpack%E2%80%99s-dev-server">Snowpack’s Dev Server</h3>
<p><img src="/img/snowpack-dev-startup-2.png" alt="dev command output example"></p>
<p><code>snowpack dev</code> - Snowpack’s dev server is an instant dev environment for <a href="#unbundled-development">unbundled development.</a> The dev server will only build a file when it’s requested by the browser. That means that Snowpack can start up instantly (usually in <strong>&lt;50ms</strong>) and scale to infinitely large projects without slowing down. In contrast, it’s common to see 30+ second dev startup times when building large apps with a traditional bundler.</p>
<p>Snowpack supports JSX &amp; TypeScript source code by default. You can extend your build even further with <a href="#plugins">custom plugins</a> that connect Snowpack with your favorite build tools: TypeScript, Babel, Vue, Svelte, PostCSS, Sass… go wild!</p>
<h3 id="snowpack%E2%80%99s-build-pipeline">Snowpack’s Build Pipeline</h3>
<p><img src="/img/snowpack-build-example.png" alt="build output example"></p>
<p><code>snowpack build</code> - When you’re ready to deploy your application, run the build command to generate a static production build of your site. Building is tightly integrated with your dev setup so that you are guaranteed to get a near-exact copy of the same code that you saw during development.</p>
<h3 id="bundle-for-production">Bundle for Production</h3>
<p><strong>You should be able to use a bundler because you want to, and not because you need to.</strong> That was the original concept that Snowpack was designed to address. Snowpack treats bundling as an optional production optimization, which means you’re free to skip over the extra complexity of bundling until you need it.</p>
<p>By default, <code>snowpack build</code> will build your site using the same unbundled approach as the <code>dev</code> command. This is fine for most projects, but you also may still want to bundle for production. Legacy browser support, code minification, code-splitting, tree-shaking, dead code elimination, and other performance optimizations can all be handled in Snowpack via bundling.</p>
<p>Bundlers normally require dozens or even hundreds of lines of configuration, but with Snowpack it’s just a one-line plugin with no config required. This is possible because Snowpack builds your application <em>before</em> sending it to the bundler, so the bundler never sees your custom source code (JSX, TS, Svelte, Vue, etc.) and instead only needs to worry about building common HTML, CSS, and JS.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// Bundlers plugins are pre-configured to work with Snowpack apps.</span><br><span class="token comment">// No config required!</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-webpack"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>See <a href="/#optimized-builds">“Optimized Builds”</a> for more information about connecting bundled (or unbundled) optimization plugins for your production builds.</p>
<h2 id="javascript">JavaScript</h2>
<h3 id="es-modules-(esm)">ES Modules (ESM)</h3>
<p>Snowpack was designed to support JavaScript’s native ES Module (ESM) syntax. ESM lets you define explicit imports &amp; exports that browsers and build tools can better understand and optimize for. If you’re familiar with the <code>import</code> and <code>export</code> keywords in JavaScript, then you already know ESM!</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// ESM Example - src/user.js</span><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* ... */</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// src/index.js</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>getUser<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./user.js'</span><span class="token punctuation">;</span></code></pre>
<p>All modern browsers support ESM, so Snowpack is able to ship this code directly to the browser during development. This is what makes Snowpack’s <strong>unbundled development</strong> workflow possible.</p>
<p>Snowpack also lets you import non-JavaScript files directly in your application. Snowpack handles all this for you automatically so there’s nothing to configure, using the following logic:</p>
<h3 id="import-npm-packages">Import NPM Packages</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// Returns the React &amp; React-DOM npm packages</span><br><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span></code></pre>
<p>Snowpack lets you import npm packages directly in the browser. Even if a package was published using a legacy format, Snowpack will up-convert the package to ESM before serving it to the browser.</p>
<p>When you start up your dev server or run a new build, you may see a message that Snowpack is “installing dependencies”. This means that Snowpack is converting your dependencies to run in the browser.</p>
<h3 id="import-json">Import JSON</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// Returns the JSON object via the default import</span><br><span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">'./data.json'</span><span class="token punctuation">;</span></code></pre>
<p>Snowpack supports importing JSON files, which return the full JSON object in the default import.</p>
<h3 id="import-css">Import CSS</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// Loads './style.css' onto the page</span><br><span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span></code></pre>
<p>Snowpack supports basic CSS imports inside of your JavaScript files. When you import a CSS file via the <code>import</code> keyword, Snowpack will automatically apply those styles to the page. This works for CSS and compile-to-CSS languages like Sass &amp; Less.</p>
<p>If you prefer, Snowpack also supports any popular CSS-in-JS library for styling.</p>
<h3 id="import-css-modules">Import CSS Modules</h3>
<pre class="language-css"><code class="language-css"><span class="token comment">/* src/style.module.css */</span><br><span class="token selector">.error</span> <span class="token punctuation">{</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<pre class="language-js"><code class="language-js"><span class="token comment">// 1. Converts './style.module.css' classnames to unique, scoped values.</span><br><span class="token comment">// 2. Returns an object mapping the original classnames to their final, scoped value.</span><br><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./style.module.css'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This example uses JSX, but you can use CSS Modules with any framework.</span><br><span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>error<span class="token punctuation">}</span><span class="token operator">></span>Your Error Message<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span></code></pre>
<p>Snowpack supports CSS Modules using the <code>[name].module.css</code> naming convention. CSS Modules work just like normal CSS imports, but with a special default <code>styles</code> export that maps your original classnames to unique identifiers.</p>
<h3 id="import-images-%26-other-assets">Import Images &amp; Other Assets</h3>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> img <span class="token keyword">from</span> <span class="token string">'./image.png'</span><span class="token punctuation">;</span> <span class="token comment">// img === '/src/image.png'</span><br><span class="token keyword">import</span> svg <span class="token keyword">from</span> <span class="token string">'./image.svg'</span><span class="token punctuation">;</span> <span class="token comment">// svg === '/src/image.svg'</span><br><br><span class="token comment">// This example uses JSX, but you can use these references with any framework.</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>img<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span></code></pre>
<p>All other assets not explicitly mentioned above can be imported via ESM <code>import</code> and will return a URL reference to the final built asset. This can be useful for referencing non-JS assets by URL, like creating an image element with a <code>src</code> attribute pointing to that image.</p>
<h4 id="coming-soon%3A-native-reference-urls">Coming Soon: Native Reference URLs</h4>
<p>Webpack 5.0 released support for native reference URLs to replace the original, fake ESM file import. If you are using a bundler that supports this (or, not using a bundler at all) we recommend updating your non-JS URL reference imports to use this more standard pattern. Once Rollup adds support as well, we will move to promote this to our recommended style.</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'./image.png'</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// img === '/src/image.png'</span><br><span class="token keyword">const</span> svg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'./image.svg'</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// svg === '/src/image.svg'</span><br><br><span class="token comment">// This example uses JSX, but you can use these references with any framework.</span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>img<span class="token punctuation">.</span>href<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span></code></pre>
<h2 id="features">Features</h2>
<p>Snowpack ships with built-in support for the following file types, no configuration required:</p>
<ul>
<li>JavaScript (<code>.js</code>, <code>.mjs</code>)</li>
<li>TypeScript (<code>.ts</code>, <code>.tsx</code>)</li>
<li>JSX (<code>.jsx</code>, <code>.tsx</code>)</li>
<li>CSS (<code>.css</code>)</li>
<li>CSS Modules (<code>.module.css</code>)</li>
<li>Images (<code>.svg</code>, <code>.jpg</code>, <code>.png</code>, etc.)</li>
</ul>
<p>To customize build behavior and support new languages (<code>.scss</code>, <code>.svelte</code>, <code>.vue</code>), keep reading.</p>
<h3 id="import-aliases">Import Aliases</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// Instead of this:</span><br><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">../../../../components/Button</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><br><span class="token comment">// You can do this:</span><br><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@app/components/Button</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<p>Snowpack supports setting custom import aliases for your project via the top-level <code>alias</code> property. This can be used to define an alias for either a local source directory (like aliasing <code>@app</code> to <code>./src</code>) or a package (like aliasing <code>react</code> to <code>preact/compat</code>). See the full documentation for <code>alias</code> below.</p>
<p><strong>TypeScript Users:</strong> You’ll need to configure your <code>tsconfig.json</code> <code>paths</code> to get proper types from top-level imports. Learn more about <a href="https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping">“path mappings”</a>.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// tsconfig.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token string">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span><br>    <span class="token string">"paths"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token comment">// Define either ONE of these...</span><br>      <span class="token comment">// 1. General support: matches everything relative to the project directory</span><br>      <span class="token string">"*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token comment">// 2. Explicit support: match only your mounted directories (Recommended!)</span><br>      <span class="token string">"src/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"src/*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token string">"public/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"public/*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="environment-variables">Environment Variables</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// `import.meta.env` - Read process.env variables in your web app</span><br><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SNOWPACK_PUBLIC_API_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/users</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><br><br><span class="token comment">// Supports destructuring as well:</span><br><span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token constant">SNOWPACK_PUBLIC_API_URL</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">;</span><br><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">SNOWPACK_PUBLIC_API_URL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/users</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><br><br><span class="token comment">// Instead of `import.meta.env.NODE_ENV` use `import.meta.env.MODE`</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MODE</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// ...</span></code></pre>
<p>You can read environment variables directly in your web application via <code>import.meta.env</code>. If you’ve ever used <code>process.env</code> in Create React App or any Webpack application, this behaves exactly the same.</p>
<p>For your safety, Snowpack only supports environment variables that begin with <code>SNOWPACK_PUBLIC_*</code>. We do this because everything in your web application is sent to the browser, and we don’t want you to accidentally share sensitive keys/env variables with your public web application. Prefixing your frontend web env variables with <code>SNOWPACK_PUBLIC_</code> is a good reminder that they will be shared with the world.</p>
<p><code>import.meta.env.MODE</code> and <code>import.meta.env.NODE_ENV</code> are also both set to the current <code>process.env.NODE_ENV</code> value, so that you can change app behavior based on dev vs. build. The env value is set to <code>development</code> during <code>snowpack dev</code> and <code>production</code> during <code>snowpack build</code>. Use this in your application instead of <code>process.env.NODE_ENV</code>.</p>
<p>You can use environment variables in HTML files. All occurrences of <code>%SNOWPACK_PUBLIC_*%</code>, <code>%PUBLIC_URL%</code>, and <code>%MODE%</code> will be replaced at build time.</p>
<p><strong>Remember:</strong> that these env variables are statically injected into your application for everyone at <strong>build time</strong>, and not runtime.</p>
<h4 id=".env-file-support"><code>.env</code> File Support</h4>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-dotenv"</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>Add the <code>@snowpack/plugin-dotenv</code> plugin to your dev environment to automatically load environment variables from your project <code>.env</code> files. Visit the <a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-dotenv">plugin README</a> to learn more.</p>
<h3 id="hot-module-replacement">Hot Module Replacement</h3>
<p>Hot Module Replacement (HMR) is the ability to update your web app during development without refreshing the page. Imagine changing some CSS, hitting save, and then instantly seeing your change reflected on the page without a refresh. That’s HMR.</p>
<p>Snowpack supports full HMR out-of-the-box for the following served files:</p>
<ul>
<li>CSS</li>
<li>CSS Modules</li>
<li>JSON</li>
</ul>
<p>Popular frameworks can also be set up for HMR. <strong><a href="https://github.com/snowpackjs/snowpack/blob/master/create-snowpack-app">Create Snowpack App (CSA)</a> ships with HMR enabled by default for all of the following frameworks.</strong> If you’re not using CSA, you can setup HMR in your application with a simple plugin or a few lines of code:</p>
<ul>
<li>Preact: <a href="https://www.npmjs.com/package/@prefresh/snowpack">@prefresh/snowpack</a></li>
<li>React: <a href="https://www.npmjs.com/package/@snowpack/plugin-react-refresh">@snowpack/plugin-react-refresh</a></li>
<li>Svelte: <a href="https://github.com/snowpackjs/snowpack/blob/master/create-snowpack-app/app-template-svelte/src/index.js#L9-L16">A few lines of code</a></li>
<li>Vue: <a href="https://github.com/snowpackjs/snowpack/blob/master/create-snowpack-app/app-template-vue/src/index.js#L7-L14">A few lines of code</a></li>
</ul>
<p>For more advanced, bare-metal HMR integrations, Snowpack created <a href="https://github.com/snowpackjs/esm-hot-module-replacement-spec">ESM-HMR</a>, a standard HMR API for any ESM-based dev environment. Any HMR integration built for ESM-HMR will run on Snowpack and any other ESM-HMR-enabled dev server. To use the HMR API directly (via <code>import.meta.hot</code>) check out <a href="https://github.com/snowpackjs/esm-hot-module-replacement-spec">the ESM-HMR spec</a> to learn more.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>module<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// Accept the module, apply it to your application.</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// Cleanup any side-effects. Optional.</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<ul>
<li>👉 <strong><a href="https://github.com/snowpackjs/esm-hot-module-replacement-spec">Check out the full ESM-HMR spec.</a></strong></li>
</ul>
<h3 id="dev-request-proxy">Dev Request Proxy</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// Example: Proxy "/api/pokemon/ditto" -> "https://pokeapi.co/api/v2/pokemon/ditto"</span><br><span class="token punctuation">{</span><br>  <span class="token string">"proxy"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token string">"/api"</span><span class="token operator">:</span> <span class="token string">"https://pokeapi.co/api/v2"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Snowpack can proxy requests from the dev server to external URLs and APIs. Making API requests directly the dev server can help you mimic your production environment during development.</p>
<p>See the <a href="#config.proxy">config.proxy API</a> section for more information and full set of configuration options.</p>
<h3 id="https%2Fhttp2">HTTPS/HTTP2</h3>
<pre><code>npm start -- --secure
</code></pre>
<p>Snowpack provides an easy way to use a local HTTPS server during development through the use of the <code>--secure</code> flag. When enabled, Snowpack will look for a <code>snowpack.key</code> and <code>snowpack.crt</code> file in the root directory and use that to create an HTTPS server with HTTP2 support enabled.</p>
<h4 id="generating-ssl-certificates">Generating SSL Certificates</h4>
<p>You can automatically generate credentials for your project via either:</p>
<ul>
<li><a href="https://github.com/davewasmer/devcert-cli">devcert (no install required)</a>: <code>npx devcert-cli generate localhost</code></li>
<li><a href="https://github.com/FiloSottile/mkcert">mkcert (install required)</a>: <code>mkcert -install &amp;&amp; mkcert -key-file snowpack.key -cert-file snowpack.crt localhost</code></li>
</ul>
<p>In most situations you should add personally generated certificate files (<code>snowpack.key</code> and <code>snowpack.crt</code>) to your <code>.gitignore</code> file.</p>
<h3 id="legacy-browser-support">Legacy Browser Support</h3>
<p>You can customize the set of browsers you’d like to support via the <code>package.json</code> “browserslist” property, going all the way back to IE11. This will be picked up when you run <code>snowpack build</code> to build for production.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">/* package.json */</span><br><span class="token string">"browserslist"</span><span class="token operator">:</span> <span class="token string">">0.75%, not ie 11, not UCAndroid >0, not OperaMini all"</span><span class="token punctuation">,</span></code></pre>
<p>If you’re worried about legacy browsers, you should also add a bundler to your production build. Check out our <a href="#bundle-for-production">section on bundling for production</a> for more info.</p>
<p>Note: During development (<code>snowpack dev</code>) we perform no transpilation for older browsers. Make sure that you’re using a modern browser during development.</p>
<h3 id="node.js-polyfills">Node.js Polyfills</h3>
<p>If you depend on packages that depend on Node.js built-in modules (<code>&quot;fs&quot;</code>, <code>&quot;path&quot;</code>, <code>&quot;url&quot;</code>, etc.) you can run Snowpack with <code>--polyfill-node</code> (or <code>installOptions.polyfillNode: true</code> in your config file). This will automatically polyfill any Node.js dependencies as much as possible for the browser. You can see the full list of supported polyfills here: <a href="https://github.com/ionic-team/rollup-plugin-node-polyfills">https://github.com/ionic-team/rollup-plugin-node-polyfills</a></p>
<p>If you’d like to customize this polyfill behavior, skip the <code>--polyfill-node</code> flag and instead provide your own Rollup plugin for the installer:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// Example: If `--polyfill-node` doesn't support your use-case, you can provide your own custom Node.js polyfill behavior</span><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  installOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>    polyfillNode<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    rollup<span class="token operator">:</span> <span class="token punctuation">{</span><br>      plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rollup-plugin-node-polyfills'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>crypto<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="css-imports-(%40import)">CSS Imports (@import)</h3>
<pre class="language-css"><code class="language-css"><span class="token comment">/* Import a local CSS file */</span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'./style1.css'</span><span class="token punctuation">;</span></span><br><span class="token comment">/* Import a local Sass file (Sass build plugin still needed to compile file contents) */</span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'./style2.scss'</span><span class="token punctuation">;</span></span><br><span class="token comment">/* Import a package CSS file */</span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'bootstrap/dist/css/bootstrap.css'</span><span class="token punctuation">;</span></span></code></pre>
<p>Snowpack supports <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import">native CSS “@import” behavior</a> with additional support for importing CSS from within packages.</p>
<p><strong>Note:</strong> The actual CSS spec dictates that a “bare” import specifier like <code>@import &quot;package/style.css&quot;</code> should be treated as a relative path, equivalent to <code>@import &quot;./package/style.css&quot;</code>. We intentionally break from the spec to match the same package import behavior as JavaScript imports. If you prefer the strictly native behavior with no package resolution support, use the form <code>@import url(&quot;package/style.css&quot;)</code> instead. Snowpack will not resolve <code>url()</code> imports and will leave them as-is in the final build.</p>
<p><strong>Note for webpack users:</strong> If you’re migrating an existing app to snowpack, note that <code>@import '~package/...'</code> (URL starting with a tilde) is a syntax specific to webpack. With Snowpack you remove the <code>~</code> from your <code>@import</code>s.</p>
<h3 id="server-side-rendering-(ssr)">Server Side Rendering (SSR)</h3>
<p>SSR for Snowpack is supported but fairly new and experimental. This documentation will be updated as we finalize support over the next few minor versions.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// New in Snowpack v2.15.0 - JS API Example</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>startDevServer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'snowpack'</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">startDevServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>These frameworks have known experiments / examples of using SSR + Snowpack:</p>
<ul>
<li>React (Example): <a href="https://github.com/matthoffner/snowpack-react-ssr">https://github.com/matthoffner/snowpack-react-ssr</a></li>
<li>Svelte/Sapper (Experiment): <a href="https://github.com/Rich-Harris/snowpack-svelte-ssr">https://github.com/Rich-Harris/snowpack-svelte-ssr</a></li>
<li><a href="https://discord.gg/rS8SnRk">Join our Discord</a> if you’re interested in getting involved!</li>
</ul>
<h3 id="optimized-builds">Optimized Builds</h3>
<p>By default, Snowpack doesn’t optimize your code for production. But, there are several plugins available to optimize your final build, including minification (reducing file sizes) and even bundling (combining files together to reduce the number of requests needed).</p>
<p><strong>Connect the <code>@snowpack/plugin-optimize</code> plugin to optimize your build.</strong> By default this will minify your built files for faster loading. It can also be configured to add <code>&lt;link ref=&quot;modulepreload&quot; /&gt;</code> elements that will improve the loading speed of unbundled sites. <em>Note: this plugin replaces <code>buildOptions.minify</code>.</em></p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// [npm install @snowpack/plugin-optimize]</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-optimize"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">]</span><br>  <span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>Note that <code>@snowpack/plugin-optimize</code> will optimize your build, but won’t bundle files together.</p>
<p><strong>If you’d like a bundled build, use <code>@snowpack/plugin-webpack</code> instead.</strong> Connect the <code>&quot;@snowpack/plugin-webpack&quot;</code> plugin in your Snowpack configuration file and then run <code>snowpack build</code> to see your optimized, <em>bundled</em> build.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// [npm install @snowpack/plugin-webpack]</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-webpack"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="testing">Testing</h3>
<p>Snowpack supports any popular JavaScript testing framework that you’re already familiar with. Mocha, Jest, Jasmine, AVA and Cypress are all supported in Snowpack applications.</p>
<p>We currently recommend <a href="https://www.npmjs.com/package/@web/test-runner">@web/test-runner</a> (WTR) for testing in Snowpack projects. When benchmarked it performed faster than Jest (our previous recommendation) while also providing an environment for testing that more closely matches the actual browser that your project runs in. Most importantly, WTR runs the same Snowpack build pipeline that you’ve already configured for your project, so there’s no extra build configuration needed to run your tests. Jest (and many others) ask you to configure a totally secondary build pipeline for your tests, which reduces test confidence while adding 100s of extra dependencies to your project.</p>
<p>To use <a href="https://www.npmjs.com/package/@web/test-runner">@web/test-runner</a> in your project, <a href="https://modern-web.dev/docs/test-runner/overview/">follow the instructions here</a> and make sure that you add the Snowpack plugin to your config file:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// web-test-runner.config.js</span><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@snowpack/web-test-runner-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><a href="https://github.com/snowpackjs/snowpack/blob/master/create-snowpack-app/app-template-react">See an example setup</a> in on of our Create Snowpack App starter templates.</p>
<h2 id="plugins">Plugins</h2>
<p>Snowpack isn’t just a build tool for JavaScript, it is a build tool for your entire website. Babel, TypeScript, PostCSS, SVGR and any favorite build tool can be connected directly into Snowpack via 1-line plugins.</p>
<p>Snowpack plugins can be added to:</p>
<ul>
<li>Customize your build with new language/framework support (Svelte, Vue)</li>
<li>Customize your build with new build tools (Babel, PostCSS)</li>
<li>Run CLI commands during build and development (TypeScript, ESLint)</li>
<li>Create custom transformations, specific to your exact application.</li>
</ul>
<p>👉 <strong><a href="/plugins">Check out our advanced guide</a> and learn how to create your own plugin.</strong></p>
<h3 id="connect-a-plugin">Connect a Plugin</h3>
<p>To make a plugin available, you have to put it in your project <code>devDependencies</code> list (<code>package.json</code>) which will install it locally (in your project) and make it available to snowpack.</p>
<p>For the official snowpack plugins, command would look like:</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># for npm</span><br><span class="token function">npm</span> <span class="token function">install</span> --save-dev @snowpack/<span class="token punctuation">[</span>plugin-name<span class="token punctuation">]</span><br><span class="token comment"># for yarn</span><br><span class="token function">yarn</span> <span class="token function">add</span> --dev @snowpack/<span class="token punctuation">[</span>plugin-name<span class="token punctuation">]</span></code></pre>
<p>After that, you can connect the plugin to Snowpack via the <code>&quot;plugins&quot;</code> array in your Snowpack config. For example,</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-babel"</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>This is all you need to add Babel to your application build pipeline. If the plugin supports it, you can also pass <strong>options</strong> to the plugin to configure its behavior:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-babel"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">]</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>NOTE: The <strong>order</strong> of plugins is important, for example, if there are multiple plugins that load/build particular type of file, the first matching will take precedence. If it succeeds in the build task for the file, others will not be called for that particular build task.</p>
<h3 id="connect-any-script%2Fcli">Connect any Script/CLI</h3>
<p>If you can’t find a plugin that fits your needs and don’t want to write your own, you can also run CLI commands directly as a part of your build using one of our two utility plugins: <code>@snowpack/plugin-build-script</code> &amp; <code>@snowpack/plugin-run-script</code>.</p>
<h4 id="%40snowpack%2Fplugin-build-script">@snowpack/plugin-build-script</h4>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// [npm install @snowpack/plugin-build-script]</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-build-script"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">"cmd"</span><span class="token operator">:</span> <span class="token string">"postcss"</span><span class="token punctuation">,</span> <span class="token string">"input"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"output"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>This plugin allows you to connect any CLI into your build process. Just give it a <code>cmd</code> CLI command that can take input from <code>stdin</code> and emit the build result via <code>stdout</code>. Check out the README for more information.</p>
<h4 id="%40snowpack%2Fplugin-run-script">@snowpack/plugin-run-script</h4>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// [npm install @snowpack/plugin-run-script]</span><br><span class="token punctuation">{</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-run-script"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">"cmd"</span><span class="token operator">:</span> <span class="token string">"eleventy"</span><span class="token punctuation">,</span> <span class="token string">"watch"</span><span class="token operator">:</span> <span class="token string">"$1 --watch"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>This plugin allows you to run any CLI command as a part of your dev and build workflow. This plugin doesn’t affect your build output, but it is useful for connecting developer tooling directly into Snowpack. Use this to add meaningful feedback to your dev console as you type, like TypeScript type-checking and ESLint lint errors.</p>
<h3 id="official-plugins">Official Plugins</h3>
<ul>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-babel">@snowpack/plugin-babel</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-dotenv">@snowpack/plugin-dotenv</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-postcss">@snowpack/plugin-postcss</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-react-refresh">@snowpack/plugin-react-refresh</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-svelte">@snowpack/plugin-svelte</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-vue">@snowpack/plugin-vue</a></li>
<li><a href="https://github.com/snowpackjs/snowpack/tree/master/plugins/plugin-webpack">@snowpack/plugin-webpack</a></li>
</ul>
<p>👉 <strong><a href="/plugins">Check out our full list</a> of official plugins.</strong></p>
<h3 id="community-plugins">Community Plugins</h3>
<ul>
<li><a href="https://www.npmjs.com/package/snowpack-plugin-mdx">snowpack-plugin-mdx</a></li>
<li><a href="https://www.npmjs.com/package/snowpack-plugin-stylus">snowpack-plugin-stylus</a></li>
<li><a href="https://github.com/zhoukekestar/snowpack-plugin-import-map">snowpack-plugin-import-map</a></li>
</ul>
<p>👉 <strong><a href="https://www.npmjs.com/search?q=keywords:snowpack%20plugin">Find your community plugin on npm.</a></strong></p>
<h2 id="recipes">Recipes</h2>
<p>Below are a collection of guides for using different web frameworks and build tools with Snowpack. If you’d like to contribute a new recipe, feel free to edit the docs to add your own.</p>
<h3 id="supported-libraries">Supported Libraries</h3>
<p>All of the following frameworks have been tested and guaranteed to work in Snowpack without issues. If you encounter an issue using any of the following, please file an issue.</p>
<ul>
<li>React</li>
<li>Preact</li>
<li>JSX</li>
<li>HTM</li>
<li>lit-html</li>
<li>Vue (see below)</li>
<li>Svelte (see below)</li>
<li>Tailwind CSS (see below)</li>
<li>Sass (see below)</li>
<li>and many more!</li>
<li>Literally… every library should work with Snowpack!</li>
</ul>
<p>Some libraries use compile-to-JS file formats and do require a special build script or plugin. See the guide below for examples.</p>
<h3 id="jsx">JSX</h3>
<p>Snowpack has built-in support to handle <code>.jsx</code> &amp; <code>.tsx</code> source files in your application.</p>
<p><strong>Note: Snowpack’s default build does not support JSX in <code>.js</code>/<code>.ts</code> files.</strong> If you can’t use the <code>.jsx</code>/<code>.tsx</code> file extension, you can use <a href="#babel">Babel</a> to build your application instead.</p>
<h3 id="typescript">TypeScript</h3>
<p>Snowpack includes built-in support to build all TypeScript source files (<code>.ts</code> &amp; <code>.tsx</code>) in your application.</p>
<p>For automatic TypeScript type checking during development, add the official <a href="https://www.npmjs.com/package/@snowpack/plugin-typescript">@snowpack/plugin-typescript</a> plugin to your Snowpack config file. This plugin adds automatic <code>tsc</code> type checking results right in the Snowpack dev console.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-typescript"</span><span class="token punctuation">]</span></code></pre>
<h3 id="babel">Babel</h3>
<p>Snowpack already comes with built-in support for building JavaScript, TypeScript, and JSX. However, If you would like to run your build through Babel instead, you can replace our default file builder with the official Snowpack Babel plugin.</p>
<p>The plugin will automatically read plugins &amp; presets from your local project <code>babel.config.*</code> config file, if one exists.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-babel"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre>
<h3 id="preact">Preact</h3>
<p>You can import and use Preact without any custom configuration needed.</p>
<p><strong>To use <code>preact/compat</code>:</strong> (the Preact+React compatability layer) alias the “compat” package to React in your install options:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// Example: Lets you import "react" in your application, but uses preact internally</span><br><span class="token comment">// snowpack.config.json</span><br><span class="token string">"installOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token string">"alias"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token string">"react"</span><span class="token operator">:</span> <span class="token string">"preact/compat"</span><span class="token punctuation">,</span><br>    <span class="token string">"react-dom"</span><span class="token operator">:</span> <span class="token string">"preact/compat"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="vue">Vue</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-vue"</span><span class="token punctuation">]</span></code></pre>
<h3 id="svelte">Svelte</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-svelte"</span><span class="token punctuation">]</span></code></pre>
<h3 id="postcss">PostCSS</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>  <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-build-script"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"cmd"</span><span class="token operator">:</span> <span class="token string">"postcss"</span><span class="token punctuation">,</span> <span class="token string">"input"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"output"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span><br><span class="token punctuation">]</span></code></pre>
<p>The <a href="https://github.com/postcss/postcss-cli"><code>postcss-cli</code></a> package must be installed manually. You can configure PostCSS with a <code>postcss.config.js</code> file in your current working directory.</p>
<h3 id="tailwind-css">Tailwind CSS</h3>
<p>You can add <a href="https://tailwindcss.com">Tailwind</a> to any project via native CSS <code>@import</code>:</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* index.css */</span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'tailwindcss/dist/base.css'</span><span class="token punctuation">;</span></span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'tailwindcss/dist/components.css'</span><span class="token punctuation">;</span></span><br><span class="token atrule"><span class="token rule">@import</span> <span class="token string">'tailwindcss/dist/utilities.css'</span><span class="token punctuation">;</span></span></code></pre>
<h4 id="using-tailwind-with-postcss">Using Tailwind with PostCSS</h4>
<p>If you are using PostCSS in your project (<a href="#postcss">see above</a>) then you can just add Tailwind as a plugin to your <code>postcss.config.js</code>:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// postcss.config.js</span><br><span class="token comment">// Taken from: https://tailwindcss.com/docs/installation#using-tailwind-with-postcss</span><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token comment">// ...</span><br>    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tailwindcss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token comment">// ...</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Once you have added the Tailwind PostCSS plugin, you can replace your native CSS <code>dist</code> imports with Tailwind’s more powerful <code>base</code>, <code>components</code>, and <code>utilities</code> imports:</p>
<pre class="language-diff"><code class="language-diff">/* index.css */<br><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> @import 'tailwindcss/dist/base.css';<br></span><span class="token prefix deleted">-</span><span class="token line"> @import 'tailwindcss/dist/components.css';<br></span><span class="token prefix deleted">-</span><span class="token line"> @import 'tailwindcss/dist/utilities.css';<br></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> @import 'tailwindcss/base';<br></span><span class="token prefix inserted">+</span><span class="token line"> @import 'tailwindcss/components';<br></span><span class="token prefix inserted">+</span><span class="token line"> @import 'tailwindcss/utilities';</code></pre>
<p>Follow the official <a href="https://tailwindcss.com/docs/installation/#using-tailwind-with-postcss">Tailwind CSS Docs</a> for more information.</p>
<h3 id="sass">Sass</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-sass"</span><span class="token punctuation">]</span></code></pre>
<p><a href="https://www.sass-lang.com/">Sass</a> is a stylesheet language that’s compiled to CSS. It allows you to use variables, nested rules, mixins, functions, and more, all with a fully CSS-compatible syntax. Sass helps keep large stylesheets well-organized and makes it easy to share design within and across projects.</p>
<p>To use Sass + PostCSS, check out <a href="https://zellwk.com/blog/eleventy-snowpack-sass-postcss/">this guide</a>.</p>
<h3 id="eslint">ESLint</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>  <span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-run-script"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><br>    <span class="token string">"cmd"</span><span class="token operator">:</span> <span class="token string">"eslint 'src/**/*.{js,jsx,ts,tsx}'"</span><span class="token punctuation">,</span><br>    <span class="token comment">// Optional: Use npm package "watch" to run on every file change</span><br>    <span class="token string">"watch"</span><span class="token operator">:</span> <span class="token string">"watch \"$1\" src"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">]</span><br><span class="token punctuation">]</span></code></pre>
<h3 id="webpack">Webpack</h3>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token comment">// Optimize your production builds with Webpack</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"@snowpack/plugin-webpack"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<p>Snowpack ships an official <a href="https://www.npmjs.com/package/@snowpack/plugin-webpack">webpack plugin</a> for optimizing your build. Connect the <code>&quot;@snowpack/plugin-webpack&quot;</code> plugin into your Snowpack configuration file and then run <code>snowpack build</code> to see your optimized, bundled build.</p>
<p>See <a href="/#optimized-builds">“Optimized Builds”</a> for more information about connecting bundled (or unbundled) optimization plugins for your production builds.</p>
<h3 id="workbox">Workbox</h3>
<p>The <a href="https://developers.google.com/web/tools/workbox/modules/workbox-cli">Workbox CLI</a> integrates well with Snowpack. Run the wizard to bootstrap your first configuration file, and then run <code>workbox generateSW</code> to generate your service worker.</p>
<p>Remember that Workbox expects to be run every time you deploy, as a part of a production build process. If you don’t have one yet, create package.json <a href="https://michael-kuehnel.de/tooling/2018/03/22/helpers-and-tips-for-npm-run-scripts.html"><code>&quot;deploy&quot;</code> and/or <code>&quot;build&quot;</code> scripts</a> to automate your production build process.</p>
<h3 id="%40web%2Ftest-runner">@web/test-runner</h3>
<p><a href="https://www.npmjs.com/package/@snowpack/app-scripts-react">@web/test-runner</a> is our recommended test runner for Snowpack projects. <a href="/#testing">See our section on testing</a> for detailed instructions on how to get started with @web/test-runner.</p>
<h3 id="jest">Jest</h3>
<blockquote>
<p>Update (October 11, 2020): <strong>We now recommend <a href="https://www.npmjs.com/package/@snowpack/app-scripts-react">@web/test-runner</a> as our test runner of choice for Snowpack projects.</strong> <a href="/#testing">See our section on testing</a> for more background behind the change.</p>
</blockquote>
<p><a href="https://jestjs.io/">Jest</a> is a popular Node.js test runner for Node.js &amp; web projects. Jest can be used with any frontend project as long as you configure how Jest should build your frontend files to run on Node.js. Many projects will try to manage this configuration for you, since it can get complicated.</p>
<p>Snowpack ships pre-built Jest configuration files for several popular frameworks. If you need to use Jest for any reason,consider extending one of these packages:</p>
<ul>
<li>React: <a href="https://www.npmjs.com/package/@snowpack/app-scripts-react">@snowpack/app-scripts-react</a></li>
<li>Preact: <a href="https://www.npmjs.com/package/@snowpack/app-scripts-preact">@snowpack/app-scripts-preact</a></li>
<li>Svelte: <a href="https://www.npmjs.com/package/@snowpack/app-scripts-svelte">@snowpack/app-scripts-svelte</a></li>
</ul>
<p>You can use these packages in your project like so:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// jest.config.js</span><br><span class="token comment">// Example: extending a pre-built Jest configuration file</span><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token operator">...</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@snowpack/app-scripts-preact/jest.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="server-side-rendering-(ssr)-1">Server Side Rendering (SSR)</h3>
<p>To connect your own server to <code>snowpack dev</code> for SSR, there are a few things that you’ll need to set up. Make sure that you include any Snowpack-built resources via script tags in your server’s HTML response:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Example: Create Snowpack App builds your src/ directory to the /_dist_/* directory --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8080/_dist_/index.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>And make sure that your HTML response also includes code to configure HMR to talk to Snowpack’s dev server:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- Configure Snowpack's HMR connection yourself, somewhere on your page HTML --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>  window<span class="token punctuation">.</span><span class="token constant">HMR_WEBSOCKET_URL</span> <span class="token operator">=</span> <span class="token string">'ws://localhost:8080'</span><span class="token punctuation">;</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h3 id="leaving-snowpack">Leaving Snowpack</h3>
<p>Snowpack is designed for zero lock-in. If you ever feel the need to add a traditional application bundler to your stack (for whatever reason!) you can do so in seconds.</p>
<p>Any application built with Snowpack should Just Work™️ when passed through Webpack/Rollup/Parcel. If you are already importing packages by name in your source code (ex: <code>import React from 'react'</code>) then you should be able to migrate to any popular bundler without issue.</p>
<p>If you are importing packages by full URL (ex: <code>import React from '/web_modules/react.js'</code>), then a simple Find &amp; Replace should help you re-write them to the plain package name imports that most bundlers expect.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="no-such-file-or-directory">No such file or directory</h3>
<pre><code>ENOENT: no such file or directory, open …/node_modules/csstype/index.js
</code></pre>
<p>This error message would sometimes occur in older versions of Snowpack.</p>
<p><strong>To solve this issue:</strong> Upgrade to Snowpack <code>v2.6.0</code> or higher. If you continue to see this unexpected error in newer versions of Snowpack, please file an issue.</p>
<h3 id="package-exists-but-package.json-%E2%80%9Cexports%E2%80%9D-does-not-include-entry">Package exists but package.json “exports” does not include entry</h3>
<p>Node.js recently added support for a package.json “exports” entry that defines which files you can and cannot import from within a package. Preact, for example, defines an “exports” map that allows you to to import “preact/hooks” but not “preact/some/custom/file-path.js”. This allows packages to control their “public” interface.</p>
<p>If you see this error message, that means that you’ve imported a file path not allowed in the export map. If you believe this to be an error, reach out to the package author to request the file be added to their export map.</p>
<h3 id="uncaught-syntaxerror%3A-the-requested-module-%E2%80%98%2Fweb_modules%2Fxxxxxx.js%E2%80%99-does-not-provide-an-export-named-%E2%80%98yyyyyy%E2%80%99">Uncaught SyntaxError: The requested module ‘/web_modules/XXXXXX.js’ does not provide an export named ‘YYYYYY’</h3>
<p>This is usually seen when importing a named export from a package written in the older Common.js format. Snowpack will automatically scan legacy Common.js packages to detect its named exports, but sometimes these exports can’t be detected statically.</p>
<p><strong>To solve this issue:</strong> Add a <a href="#config.installoptions">“namedExports”</a> entry in your Snowpack config file. This tells Snowpack to use a more-powerful runtime scanner on this legacy Common.js package to detect it’s exports at runtime.</p>
<pre class="language-json"><code class="language-json"><span class="token comment">// snowpack.config.json</span><br><span class="token comment">// Example: add support for `import { Terminal } from 'xterm';`</span><br><span class="token property">"installOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"namedExports"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"xterm"</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="installing-non-js-packages">Installing Non-JS Packages</h3>
<p>When installing packages from npm, you may encounter some file formats that can only run with additional parsing/processing. First check to see if there is a <a href="#plugins">Snowpack plugin for the type of file</a>.</p>
<p>Because our internal installer is powered by Rollup, you can also add Rollup plugins to your <a href="#configuration">Snowpack config</a> to handle these special, rare files:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">/* snowpack.config.js */</span><br>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><br>  rollup<span class="token operator">:</span> <span class="token punctuation">{</span><br>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'rollup-plugin-sass'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Refer to <a href="https://rollupjs.org/guide/en/#using-plugins">Rollup’s documentation on plugins</a> for more information.</p>
<h2 id="api-reference">API Reference</h2>
<h3 id="config-files">Config Files</h3>
<p>Snowpack’s behavior can be configured by CLI flags, a custom Snowpack config file, or both. <a href="#api-reference">See the api reference below for the full list of supported options</a>.</p>
<p>Snowpack supports configuration files in multiple formats, sorted by priority order:</p>
<ol>
<li><code>--config [path]</code>: If provided.</li>
<li><code>package.json</code>: A namespaced config object (<code>&quot;snowpack&quot;: {...}</code>).</li>
<li><code>snowpack.config.cjs</code>: (<code>module.exports = {...}</code>) for projects using <code>&quot;type&quot;: &quot;module&quot;</code>.</li>
<li><code>snowpack.config.js</code>: (<code>module.exports = {...}</code>).</li>
<li><code>snowpack.config.ts</code>*: (<code>export default {...}</code>).</li>
<li><code>snowpack.config.json</code>: (<code>{...}</code>).</li>
</ol>
<p><em>(* Note: <code>snowpack.config.ts</code> support is still experimental! It currently involves bundling your config file and all imported files into a temporary JS config file that can be loaded by Node.js. Your mileage may vary.)</em></p>
<h3 id="cli-flags">CLI Flags</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Show helpful info</span><br>$ snowpack --help<br><br><span class="token comment"># Show additional debugging logs</span><br>$ snowpack --verbose<br><br><span class="token comment"># {installOptions: {dest: 'CUSTOM_DIR/'}}</span><br>$ snowpack <span class="token function">install</span> --dest CUSTOM_DIR/<br><br><span class="token comment"># {devOptions: {bundle: true}}</span><br>$ snowpack dev --bundle<br><br><span class="token comment"># {devOptions: {bundle: false}}</span><br>$ snowpack dev --no-bundle<br><br><span class="token comment"># {buildOptions: {clean: true}}</span><br>$ snowpack build --clean</code></pre>
<p><strong>CLI flags will be merged with (and take priority over) your config file values.</strong> Every config value outlined below can also be passed as a CLI flag. Additionally, Snowpack also supports the following flags:</p>
<ul>
<li><strong><code>--config [path]</code></strong> Set the path to your project config file.</li>
<li><strong><code>--help</code></strong> Show this help.</li>
<li><strong><code>--version</code></strong> Show the current version.</li>
<li><strong><code>--reload</code></strong> Clear the local cache. Useful for troubleshooting installer issues.</li>
</ul>
<h3 id="configuration">Configuration</h3>
<p>Example:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span><br>  <span class="token string">"install"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token string">"htm"</span><span class="token punctuation">,</span><br>    <span class="token string">"preact"</span><span class="token punctuation">,</span><br>    <span class="token string">"preact/hooks"</span><span class="token punctuation">,</span> <span class="token comment">// A package within a package</span><br>    <span class="token string">"unistore/full/preact.es.js"</span><span class="token punctuation">,</span> <span class="token comment">// An ESM file within a package (supports globs)</span><br>    <span class="token string">"bulma/css/bulma.css"</span> <span class="token comment">// A non-JS static asset (supports globs)</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token string">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token string">"installOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token string">"devOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token string">"buildOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token string">"proxy"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token string">"mount"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token string">"alias"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h4 id="config"><code>config</code></h4>
<p><code>object</code> (options)</p>
<p>See the configuration section for information on file formats and command line usage.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span><br>  mount<span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token keyword">public</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span><br>    src<span class="token operator">:</span> <span class="token string">'/_dist_'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@snowpack/plugin-babel'</span><span class="token punctuation">,</span> <span class="token string">'@snowpack/plugin-dotenv'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  devOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>  installOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>    installTypes<span class="token operator">:</span> isTS<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>extends</code></strong> | <code>string</code>
<ul>
<li>Inherit from a separate “base” config. Can be a relative file path, an npm package, or a file within an npm package. Your configuration will be merged on top of the extended base config.</li>
</ul>
</li>
<li><strong><code>exclude</code></strong> | <code>string[]</code>
<ul>
<li>Exclude any files from scanning, building, etc. Defaults to exclude common test file locations: <code>['**/node_modules/**/*', '**/__tests__/*', '**/*.@(spec|test).@(js|mjs)']</code></li>
<li>Useful for excluding tests and other unnecessary files from the final build. Supports glob pattern matching.</li>
</ul>
</li>
<li><strong><code>install</code></strong> | <code>string[]</code>
<ul>
<li>Known dependencies to install with Snowpack. Useful for installing packages manually and any dependencies that couldn’t be detected by our automatic import scanner (ex: package CSS files).</li>
</ul>
</li>
<li><strong><code>mount.*</code></strong>
<ul>
<li>Mount local directories to custom URLs in your built application.</li>
</ul>
</li>
<li><strong><code>alias.*</code></strong>
<ul>
<li>Configure import aliases for directories and packages. See the section below for all options.</li>
</ul>
</li>
<li><strong><code>proxy.*</code></strong>
<ul>
<li>Configure the dev server to proxy requests. See the section below for all options.</li>
</ul>
</li>
<li><strong><code>plugins</code></strong>
<ul>
<li>Extend Snowpack with third-party tools and plugins. See the section below for more info.</li>
</ul>
</li>
<li><strong><code>installOptions.*</code></strong>
<ul>
<li>Configure how npm packages are installed. See the section below for all options.</li>
</ul>
</li>
<li><strong><code>devOptions.*</code></strong>
<ul>
<li>Configure your dev server. See the section below for all options.</li>
</ul>
</li>
<li><strong><code>buildOptions.*</code></strong>
<ul>
<li>Configure your build. See the section below for all options.</li>
</ul>
</li>
<li><strong><code>testOptions.*</code></strong>
<ul>
<li>Configure your tests. See the section below for all options.</li>
</ul>
</li>
</ul>
<h4 id="config.installoptions"><code>config.installOptions</code></h4>
<p><code>object</code> (options)</p>
<p>Settings that determine how Snowpack handles installing modules.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js">installOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>  installTypes<span class="token operator">:</span> isTS<span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>installOptions.dest</code></strong> | <code>string</code>
<ul>
<li><em>Default:<code>&quot;web_modules&quot;</code></em></li>
<li>Configure the install directory.</li>
</ul>
</li>
<li><strong><code>installOptions.sourceMap</code></strong> | <code>boolean</code>
<ul>
<li>Emit source maps for installed packages.</li>
</ul>
</li>
<li><strong><code>installOptions.env</code></strong> | <code>{[ENV_NAME: string]: (string | true)}</code>
<ul>
<li>Sets a <code>process.env.</code> environment variable inside the installed dependencies. If set to true (ex: <code>{NODE_ENV: true}</code> or <code>--env NODE_ENV</code>) this will inherit from your current shell environment variable. Otherwise, set to a string (ex: <code>{NODE_ENV: 'production'}</code> or <code>--env NODE_ENV=production</code>) to set the exact value manually.</li>
</ul>
</li>
<li><strong><code>installOptions.treeshake</code></strong> | <code>boolean</code>
<ul>
<li><em>Default:<code>false</code>, or <code>true</code> when run with <code>snowpack build</code></em></li>
<li>Treeshake your dependencies to optimize your installed files. Snowpack will scan your application to detect which exact imports are used from each package, and then will remove any unused imports from the final install via dead-code elimination (aka tree shaking).</li>
</ul>
</li>
<li><strong><code>installOptions.installTypes</code></strong> | <code>boolean</code>
<ul>
<li>Install TypeScript type declarations with your packages. Requires changes to your <a href="#typescript">tsconfig.json</a> to pick up these types.</li>
</ul>
</li>
<li><strong><code>installOptions.alias</code></strong> | <code>{[mapFromPackageName: string]: string}</code>
<ul>
<li>Alias an installed package name. This applies to imports within your application and within your installed dependency graph.</li>
<li>Example: <code>&quot;alias&quot;: {&quot;react&quot;: &quot;preact/compat&quot;, &quot;react-dom&quot;: &quot;preact/compat&quot;}</code></li>
</ul>
</li>
<li><strong><code>installOptions.namedExports</code></strong> | <code>string[]</code>
<ul>
<li><em>NOTE(v2.13.0): Snowpack now automatically supports named exports for most Common.js packages. This configuration remains for any package that Snowpack can’t handle automatically. In most cases, this should no longer be needed.</em></li>
<li>Import CJS packages using named exports (Example: <code>import {useTable} from 'react-table'</code>).</li>
<li>Example: <code>&quot;namedExports&quot;: [&quot;react-table&quot;]</code></li>
</ul>
</li>
<li><strong><code>installOptions.externalPackage</code></strong> | <code>string[]</code>
<ul>
<li><em>NOTE: This is an advanced feature, and may not do what you want! Bare imports are not supported in any major browser, so an ignored import will usually fail when sent directly to the browser.</em></li>
<li>Mark some imports as external. Snowpack won’t install them and will ignore them when resolving imports.</li>
<li>Example: <code>&quot;externalPackage&quot;: [&quot;fs&quot;]</code></li>
</ul>
</li>
<li><strong><code>installOptions.rollup</code></strong> | <code>Object</code>
<ul>
<li>Snowpack uses Rollup internally to install your packages. This <code>rollup</code> config option gives you deeper control over the internal rollup configuration that we use.</li>
<li><strong><code>installOptions.rollup.plugins</code></strong> - Specify <a href="#installing-non-js-packages">Custom Rollup plugins</a> if you are dealing with non-standard files.</li>
<li><strong><code>installOptions.rollup.dedupe</code></strong> - If needed, deduplicate multiple versions/copies of a packages to a single one. This helps prevent issues with some packages when multiple versions are installed from your node_modules tree. See <a href="https://github.com/rollup/plugins/tree/master/packages/node-resolve#usage">rollup-plugin-node-resolve</a> for more documentation.</li>
<li><strong><code>installOptions.rollup.context</code></strong> - Specify top-level <code>this</code> value. Useful to silence install errors caused by legacy common.js packages that reference a top-level this variable, which does not exist in a pure ESM environment. Note that the <code>'THIS_IS_UNDEFINED'</code> warning (<code>The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten</code>) is silenced by default, unless <code>--verbose</code> is used.</li>
</ul>
</li>
</ul>
<h4 id="config.devoptions"><code>config.devOptions</code></h4>
<p><code>object</code> (options)</p>
<p>Settings that determine how the Snowpack dev environment behaves.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js">devOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>	port<span class="token operator">:</span> <span class="token number">4000</span><span class="token punctuation">,</span><br>	open<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>devOptions.port</code></strong> | <code>number</code> | Default: <code>8080</code>
<ul>
<li>The port number to run the dev server on.</li>
</ul>
</li>
<li><strong><code>devOptions.bundle</code></strong> | <code>boolean</code>
<ul>
<li>Create an optimized, bundled build for production.</li>
<li>You must have <a href="https://parceljs.org/">Parcel</a> as a dev dependency in your project.</li>
<li>If undefined, this option will be enabled if the <code>parcel</code> package is found.</li>
</ul>
</li>
<li><strong><code>devOptions.fallback</code></strong> | <code>string</code> | Default: <code>&quot;index.html&quot;</code>
<ul>
<li>When using the Single-Page Application (SPA) pattern, this is the HTML “shell” file that gets served for every (non-resource) user route. Make sure that you configure your production servers to serve this as well.</li>
</ul>
</li>
<li><strong><code>devOptions.open</code></strong> | <code>string</code> | Default: <code>&quot;default&quot;</code>
<ul>
<li>Opens the dev server in a new browser tab. If Chrome is available on macOS, an attempt will be made to reuse an existing browser tab. Any installed browser may also be specified. E.g., “chrome”, “firefox”, “brave”. Set “none” to disable.</li>
</ul>
</li>
<li><strong><code>devOptions.output</code></strong> | <code>&quot;stream&quot; | &quot;dashboard&quot;</code> | Default: <code>&quot;dashboard&quot;</code>
<ul>
<li>Set the output mode of the <code>dev</code> console.</li>
<li><code>&quot;dashboard&quot;</code> delivers an organized layout of console output and the logs of any connected tools. This is recommended for most users and results in the best logging experience.</li>
<li><code>&quot;stream&quot;</code> is useful when Snowpack is run in parallel with other commands, where clearing the shell would clear important output of other commands running in the same shell.</li>
</ul>
</li>
<li><strong><code>devOptions.hostname</code></strong> | <code>string</code> | Default: <code>localhost</code>
<ul>
<li>The hostname where the browser tab will be open.</li>
</ul>
</li>
<li><strong><code>devOptions.hmr</code></strong> | <code>boolean</code> | Default: <code>true</code>
<ul>
<li>Toggles whether or not Snowpack dev server should have HMR enabled.</li>
</ul>
</li>
<li><strong><code>devOptions.hmrErrorOverlay</code></strong> | <code>boolean</code> | Default: <code>true</code>
<ul>
<li>When HMR is enabled, toggles whether or not a browser overlay should display javascript errors.</li>
</ul>
</li>
<li><strong><code>devOptions.secure</code></strong> | <code>boolean</code>
<ul>
<li>Toggles whether or not Snowpack dev server should use HTTPS with HTTP2 enabled.</li>
</ul>
</li>
<li><strong><code>devOptions.out</code></strong> | <code>string</code> | Default: <code>&quot;build&quot;</code>
<ul>
<li><em>NOTE:</em> Deprecated, see <code>buildOptions.out</code>.</li>
<li>The local directory that we output your final build to.</li>
</ul>
</li>
</ul>
<h4 id="config.buildoptions"><code>config.buildOptions</code></h4>
<p><code>object</code> (options)</p>
<p>Determines how Snowpack processes the final build.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js">buildOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>  sourceMaps<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>  baseUrl<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span><br>  metaDir<span class="token operator">:</span> <span class="token string">'static/snowpack'</span><span class="token punctuation">,</span><br>  webModulesUrl<span class="token operator">:</span> <span class="token string">'web'</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>buildOptions.out</code></strong> | <code>string</code> | Default: <code>&quot;build&quot;</code>
<ul>
<li>The local directory that we output your final build to.</li>
</ul>
</li>
<li><strong><code>buildOptions.baseUrl</code></strong> | <code>string</code> | Default: <code>/</code>
<ul>
<li>In your HTML, replace all instances of <code>%PUBLIC_URL%</code> with this (inspired by the same <a href="https://create-react-app.dev/docs/using-the-public-folder/">Create React App</a> concept). This is useful if your app will be deployed to a subdirectory. <em>Note: if you have <code>homepage</code> in your <code>package.json</code>, Snowpack will actually pick up on that, too.</em></li>
</ul>
</li>
<li><strong><code>buildOptions.clean</code></strong> | <code>boolean</code> | Default: <code>false</code>
<ul>
<li>Set to <code>true</code> if Snowpack should erase the build folder before each build.</li>
</ul>
</li>
<li><strong><code>buildOptions.metaDir</code></strong> | <code>string</code> | Default: <code>__snowpack__</code>
<ul>
<li>By default, Snowpack outputs Snowpack-related metadata such as <a href="#hot-module-replacement">HMR</a> and <a href="#environment-variables">ENV</a> info to a folder called <code>__snowpack__</code>. You can rename that folder with this option (e.g.: <code>metaDir: 'static/snowpack'</code>).</li>
</ul>
</li>
<li><strong><code>buildOptions.sourceMaps</code></strong> | <code>boolean</code> | Default: <code>false</code>
<ul>
<li><strong><em>Experimental:</em></strong> Set to <code>true</code> to enable source maps</li>
</ul>
</li>
<li><strong><code>buildOptions.webModulesUrl</code></strong> | <code>string</code> | Default: <code>web_modules</code>
<ul>
<li>Rename your web modules directory.</li>
</ul>
</li>
</ul>
<h4 id="config.testoptions"><code>config.testOptions</code></h4>
<p><code>object</code> (options)</p>
<p>Settings that determine how the Snowpack test environment behaves.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js">testOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>  files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my-test-dir/*.test.js'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>testOptions.files</code></strong> | <code>string[]</code> | Default: <code>[&quot;__tests__/**/*&quot;, &quot;**/*.@(spec|test).*&quot;]</code>
<ul>
<li>The location of all test files.</li>
<li>All matching test files are scanned for installable dependencies during development, but excluded from both scanning and building in your final build.</li>
</ul>
</li>
</ul>
<h4 id="config.proxy"><code>config.proxy</code></h4>
<p><code>object</code> (path: options)</p>
<p>If desired, <code>&quot;proxy&quot;</code> is where you configure the proxy behavior of your dev server. Define different paths that should be proxied, and where they should be proxied to.</p>
<p>The short form of a full URL string is enough for general use. For advanced configuration, you can use the object format to set all options supported by <a href="https://github.com/http-party/node-http-proxy">http-proxy</a>.</p>
<p>This configuration has no effect on the final build.</p>
<p>Example:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"proxy"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Short form:</span><br>    <span class="token string">"/api/01"</span><span class="token operator">:</span> <span class="token string">"https://pokeapi.co/api/v2/"</span><span class="token punctuation">,</span><br>    <span class="token comment">// Long form:</span><br>    <span class="token string">"/api/02"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      on<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token function-variable function">proxyReq</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token comment">/* Custom event handlers (JS only) */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token comment">/* Custom http-proxy options */</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Options:</p>
<ul>
<li><strong><code>&quot;path&quot;.on</code></strong> | <code>object</code> (string: function)
<ul>
<li><code>on</code> is a special Snowpack property for setting event handler functions on proxy server events. See the section on <a href="https://github.com/http-party/node-http-proxy#listening-for-proxy-events">“Listening for Proxy Events”</a> for a list of all supported events. You must be using a <code>snowpack.config.js</code> JavaScript configuration file to set this.</li>
</ul>
</li>
<li>All options supported by <a href="https://github.com/http-party/node-http-proxy">http-proxy</a>.</li>
</ul>
<h4 id="config.mount"><code>config.mount</code></h4>
<pre><code>mount: {
  [path: string]: string | {url: string, static: boolean, resolve: boolean}
}
</code></pre>
<p>The <code>mount</code> configuration lets you customize which directories should be included in your Snowpack build, and what URL they are mounted to. Given the following example configuration, you could expect the following results:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// Example: Basic "mount" usage</span><br><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"mount"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token string">"src"</span><span class="token operator">:</span> <span class="token string">"/_dist_"</span><span class="token punctuation">,</span><br>    <span class="token string">"public"</span><span class="token operator">:</span> <span class="token string">"/"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<pre><code>GET /src/a.js           -&gt; 404 NOT FOUND (&quot;./src&quot; is mounted to &quot;/_dist_/*&quot;, not &quot;/src/*&quot;)
GET /_dist_/a.js        -&gt; ./src/a.js
GET /_dist_/b/b.js      -&gt; ./src/b/b.js
GET /public/robots.txt  -&gt; 404 NOT FOUND (&quot;./public&quot; dir is mounted to &quot;/*&quot;, not &quot;/public/*&quot;)
GET /robots.txt         -&gt; ./public/robots.txt
</code></pre>
<p>By default, Snowpack builds every mounted file by passing it through Snowpack’s build pipeline.</p>
<p><strong>*New in Snowpack <code>v2.15.0</code>:</strong> You can customize the build behavior for a mounted directory using the expanded object notation:</p>
<ul>
<li><code>url</code> <em>required</em>: The URL to mount to, matching the simple form above.</li>
<li><code>static</code> <em>optional, default: false</em>: If true, don’t build files in this directory and serve them directly to the browser.</li>
<li><code>resolve</code> <em>optional, default: true</em>: If false, don’t resolve JS &amp; CSS imports in your JS, CSS, and HTML files and send every import to the browser, as written. We recommend that you don’t disable this unless absolutely necessary, since it prevents Snowpack from handling your imports to things like packages, JSON files, CSS modules, and more.</li>
</ul>
<pre class="language-js"><code class="language-js"><span class="token comment">// Example: Advanced "mount" usage</span><br><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  <span class="token string">"mount"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Same behavior as the "src" example above:</span><br>    <span class="token string">"src"</span><span class="token operator">:</span> <span class="token punctuation">{</span>url<span class="token operator">:</span> <span class="token string">"/_dist_"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token comment">// Mount "public" to the root URL path ("/*") and serve files with zero transformations:</span><br>    <span class="token string">"public"</span><span class="token operator">:</span> <span class="token punctuation">{</span>url<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> resolve<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h4 id="config.alias"><code>config.alias</code></h4>
<p><code>object</code> (package: package or path)</p>
<blockquote>
<p>Note: In an older version of Snowpack, all mounted directories were also available as aliases by default. As of Snowpack 2.7, this is no longer the case and no aliases are defined by default.</p>
</blockquote>
<p>The <code>alias</code> config option lets you define an import alias in your application. When aliasing a package, this allows you to import that package by another name in your application. This applies to imports inside of your dependencies as well, essentially replacing all references to the aliased package.</p>
<p>Aliasing a local directory (any path that starts with “./”) creates a shortcut to import that file or directory. While we don’t necessarily recommend this pattern, some projects do enjoy using these instead of relative paths:</p>
<pre class="language-diff"><code class="language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">import '../../../../../Button.js';<br></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import '@app/Button.js';</code></pre>
<p>Example:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// snowpack.config.json</span><br><span class="token punctuation">{</span><br>  alias<span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Type 1: Package Import Alias</span><br>    <span class="token string">"lodash"</span><span class="token operator">:</span> <span class="token string">"lodash-es"</span><span class="token punctuation">,</span><br>    <span class="token string">"react"</span><span class="token operator">:</span> <span class="token string">"preact/compat"</span><span class="token punctuation">,</span><br>    <span class="token comment">// Type 2: Local Directory Import Alias (relative to cwd)</span><br>    <span class="token string">"components"</span><span class="token operator">:</span> <span class="token string">"./src/components"</span><br>    <span class="token string">"@app"</span><span class="token operator">:</span> <span class="token string">"./src"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h2 id="assets">Assets</h2>
<ul>
<li><a href="/assets/snowpack-logo-white.png">Snowpack Logo (PNG, White)</a></li>
<li><a href="/assets/snowpack-logo-dark.png">Snowpack Logo (PNG, Dark)</a></li>
<li><a href="/assets/snowpack-logo-black.png">Snowpack Logo (PNG, Black)</a></li>
<li><a href="/assets/snowpack-wordmark-white.png">Snowpack Wordmark (PNG, White)</a></li>
<li><a href="/assets/snowpack-wordmark-black.png">Snowpack Wordmark (PNG, Black)</a></li>
</ul>

  </div>
</article>

<!-- Place this tag in your head or just before your close body tag. -->
<script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>
    </section>

  </body>

  <script>

    /**
    * Debounce functions for better performance
    * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com
    * @param  {Function} fn The function to debounce
    */
    function debounce(fn) {
      // Setup a timer
      var timeout;
      // Return a function to run debounced
      return function () {
        // Setup the arguments
        var context = this;
        var args = arguments;
        // If there's a timer, cancel it
        if (timeout) {
          window.cancelAnimationFrame(timeout);
        }
        // Setup the new requestAnimationFrame()
        timeout = window.requestAnimationFrame(function () {
          fn.apply(context, args);
        });
      }
    };

    function isScrolledIntoView(el) {
      const rect = el.getBoundingClientRect();
      const elemTop = rect.top;
      const elemBottom = rect.bottom;
      // Only completely visible elements return true:
      // var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight);
      // Partially visible elements return true:
      const isVisible = elemTop < window.innerHeight && elemBottom >= 0;
      return isVisible;
    }

    function setActiveToc() {
      const PADDING_TOP = 64;

      for (const el of document.querySelectorAll('h2, h3, h4')) {
        if (!isScrolledIntoView(el)) {
          continue;
        }

        const elId = el.id;
        const href = `#${elId}`;
        tableOfContentsEl
          .querySelectorAll(`a.active`)
          .forEach(aEl => {
            if (aEl.getAttribute('href') !== href) aEl.classList.remove('active');
          });

        const tocEl = tableOfContentsEl.querySelector(`a[href="${href}"]`);
        // only add the active class once, which will also prevent scroll from re-triggering while scrolling to the same element
        if (!tocEl || tocEl.classList.contains('active')) {
          return;
        }
        tocEl.classList.add('active')

        // update nav on desktop
        if (window.innerWidth >= 860) {
          gridTocEl.scrollTo({ top: tocEl.getBoundingClientRect().top + gridTocEl.scrollTop - PADDING_TOP, behavior: 'smooth'})
        }
        return;
      }
    }

    const gridBodyEl = document.getElementById('grid-body');
    const tableOfContentsEl = document.querySelector('.toc');
    const gridTocEl = document.querySelector('.grid-toc');
    gridBodyEl.addEventListener('scroll', debounce(setActiveToc));
    window.addEventListener('scroll', debounce(setActiveToc));

    document
      .getElementById('toc-drawer-button')
      .addEventListener('click', (e) => {
        e.preventDefault();
        /*If hidden-mobile class is enabled that means we are on desktop do overflow normal but we
      if we are at mobile fixed body position, so that its not scrollable(which currently causing bug) and navbar  handling its
      owns scroll. Case to consider there are chance use can open navbar using toggle button and user when click on any link
      body postion should be unset
      */
        const ishiddenMobileClassEnabled = gridTocEl
          .classList
          .toggle('hidden-mobile');
      });
    gridTocEl.addEventListener('click', (e) => {
      gridTocEl
        .classList
        .add('hidden-mobile');
      document.body.style.position = '';
    });
    /* May not be needed:
    window.addEventListener('DOMContentLoaded', (event) => {
      if (!window.location.hash) {
        return;
      }
      const elNeedingScroll = document.getElementById(window.location.hash.substring(1));
      if (!elNeedingScroll) {
        return;
      }
      elNeedingScroll.scrollIntoView();
      elNeedingScroll.classList.add('highlighted');
    });
    */

    window.addEventListener('DOMContentLoaded', (event) => {
      setActiveToc();
      document
        .querySelectorAll('.markdown-body h3, .markdown-body h4')
        .forEach((headerEl) => {
          const linkEl = document.createElement("a");
          // linkEl.setAttribute('target', "_blank");
          linkEl.setAttribute('href', '#' + headerEl.id);
          linkEl
            .classList
            .add('header-link');
          linkEl.innerText = '#';
          headerEl.appendChild(linkEl);
        });
    });
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130280175-9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-130280175-9');
  </script>
</html>
